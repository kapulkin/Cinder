// TODO: import stylus reset
global-reset()
@import global

// vars
left-col-width = 300px
$nav-bottom-padding = 35px

// animations 
@keyframes fade-odd {
  from {
    background-color: #FFF2DE
  }
  to {
    background-color: #f8f8f8
  }
}

@keyframes fade-even {
  from {
    background-color: #FFF2DE
  }
  to {
    background-color: white
  }
}

// mixins
center()
	display: block
	margin-left: auto
	margin-right: auto
	text-align: center


// base html styles
body
	baseFontStyle()
	font-size: 14px
	background: $$background-gray-light $gray-gradient-1 no-repeat
	line-height: 1.8em
	
	
a
	color: $cinder-red
	font-weight: 700
	
	&:hover
	&:focus
		color: $cinder-red
		text-decoration: underline
	
	&.cta-arrow
		// padding-right: 25px
		padding: 5px 25px 5px 0
		background: url('../images/cta_arrow.png') no-repeat right center
	
p a
	font-weight: inherit
	
p
	margin-bottom: 1.25em
	line-height: inherit
	
	&:last-child
		margin-bottom: 0
	
em
	font-style: italic

strong
	font-weight: 700

label
	font-family: 'Open Sans', sans-serif;
	font-size: 1.5em
	font-weight: 300

h1, h2, h3, h4, h5, h6
	font-family: 'Open Sans', sans-serif;
	font-weight: 300
	margin-bottom: 0.5em

h1
	font-size: 2.25em
	color: $cinder-red
	font-weight: 400;

h2
	font-size: 1.9em
	color: $cinder-red

h3
	font-size: 1.5em
	font-weight: 700;
	color: $dark-gray-text

h4
	font-size: 1.25em

h5
	font-size: 1.0em


// list styles
plain-ul()
	padding: 0
	text-indent: 0
	list-style: none
	
	li
		margin: 0
		&:before
			content: none
			
ul 
	plain-ul()


ul.fancy>li
	fancyFontStyle()
	
	a:hover
		text-decoration: none

ol
	list-style: decimal
	margin-left: 1.4rem;
	
li
	margin: 0 0 0.25rem 1.0rem;
	
ul, ol, dl 
	line-height: inherit

.row
	max-width: 80rem

// for guide template
body#guide-contents
	max-width: 960px
	margin: 20px auto 0 auto
	width: 100%

body.reference
	.content ul li
		margin-left: 0

.plain
	baseFontStyle()

.center
	center()

.columns.collapse
	padding-left: 0
	padding-right: 0

// code
// 	margin: 1em 0
// 	display: inline-block
// 	padding: 0 1em
// 	line-height: 2em


#top-primary
	box-shadow: 0px 0px 5px 4px rgba(0,0,0,0.3)
	z-index: 100
	
#top-primary,
#top-content
	background: $background-gray
	position: relative
	padding: 0 0 0 0
	margin: 0
	color: #fff
	
	h1
		color: #fff

	.content
		height: 100%
		
	.branding
		height: 100%
		
	.col-right
		width: 100%
		height: 100%
	
	.navbar-header
		position: absolute
		bottom: $nav-bottom-padding
		color: light-gray
		vertical-align: bottom
		display: inline-block

		a.navbar-brand
			display: inline-block
			background: url('../images/cinder_logo.svg') no-repeat;
			background-size: 100%
			width: 151px
			height: 50px
			position: relative
			vertical-align: bottom
			
		.cinder-version
			display: inline-block
			position: relative
			margin-left: 13px
			font-weight: bold
			font-size: 14px
			line-height: 18px
			vertical-align: bottom
	

#sub-nav
	color: $middle-gray-text
	
	ul
		plain-ul()
		
		li
			display: inline-block
			// margin-right: 10px
			margin-left: 0
			
			a
				color: $cinder-red
				font-weight: normal
				
				&:hover
					text-decoration: underline
			
			&:not(:last-child)
				
				&::after
					content: " | "
		

#top-secondary
	background: gray-gradient-2
	height: 100%
	min-height: 250px

.content-row
	
	background: #fff

	> .columns
		padding-top: 40px
		padding-bottom: 40px
		min-height: 400px


// prose for reference and guide pages
.content, body#guide-contents
	// background: white
	height: auto
		
	// padding-top: 40px
	// font-size: 0.8em
	// line-height: 1em

		
	section
		margin-bottom: 3em
	
	img-base()
		display: block
		margin-top: 30px
		margin-bottom: 30px

	img.shadow
		box-shadow: rgba(0,0,0,0.5) 0 10px 20px
		
	
	figure.center, img.center
		img-base()
		center()
		
	img.rounded
		border-radius: 5px
		
	figure > img
		margin-bottom: 1em

	// list styles
	ul
		padding: 0 0 0 0.8em
		text-indent: -0.8em
		list-style: none
 	
 	ol
 		margin-left: 0.8em

	ul, ol
		margin-bottom: 1.25em
		li
			&:last-child
				margin-bottom: 0
	 
	ul li
		margin: 0 0 0.25em 1.0em

	ul li:before
		content: "\00BB \00A0"	// double arrows + &nbsp; (unicode)
		
	.cols-2
		width: 100%
		margin: 25px 0
		clearfix()
		
		.col
			position: relative;
			width: 50%
			float: left;
			padding-left: 0.9375rem;
			padding-right: 0.9375rem;
    
		
			&:first-child
				padding-left: 0
			
			&:last-child
				padding-right: 0
				
			> *
				margin-top: 0
				max-width: 100%;
	

	@media (max-width: 960px)
	
		.cols-2
			.col
				width: 100%
				
				&:first-child
					padding-left: 0.9375rem
				
				&:last-child
					padding-right: 0.9375rem
				
				> *
					margin-top: inherit

body.classes
	
	h1 
		display: inline-block
		margin-bottom: 0
		font-weight: 700
		line-height: 1.25em
	
	span.slash
		color: #ddd
		
	.row .row
		margin: 0
	
	
	.info-links
		display: flex
		.columns + .columns:last-child
		    float: left
	
	.top
		// padding: 0.9375rem
		background-color: $light-gray
		margin-bottom: 40px
		
		.include
			display: inline-block
			color: $middle-gray-text
			
			a
				color: $middle-gray-text
				font-weight: normal
		
		.row
			padding: 0.0 0.9375rem
			
			&:not(:last-child)
				border-bottom: #fff 1px solid

		.row:nth-child(1)
			background-color: $gray-depth-1
		
		.row:nth-child(2)
			background-color: $gray-depth-2
		
		.row:nth-child(3)
			background-color: $gray-depth-3
			
		.columns
			padding: 0.7rem 1.25rem
			overflow-x: scroll;
			
			&:not(:last-child)
				border-right: #fff 1px solid
			
			&.naming
				padding-top: 2.0em
				padding-bottom: 2.0em
			
			&.subnav
				padding-top: 0.25em
				padding-bottom: 0.25em
				
		label
			color: $middle-gray-text
			font-weight: 700
			font-size: 1.0em
			// margin-bottom: 0.5em
			
		.ns
			display: block
			color: $cinder-red
			line-height: 1em
			
			.link:not(:last-child):after
				content: "::"

		.side

			a
				font-weight: normal
	
			h4
				font-weight: 700
				margin-bottom: 6px

			.row
				border: 1px solid #f0f0f0
				padding: 10px 25px
				margin-bottom: 2px
				margin-right: 0
				position: relative


				&:nth-child(even)
					background: #ebebeb
				
				&:nth-child(odd)
					
					&:first-child
						background: #fff
					
					background: #f5f5f5
					border-color: #f5f5f5
				
			
			ul
				margin-bottom: 0
				padding: 0
				text-indent: 0
				
				&.inheritence
					
					li
						background-image: url("../images/class_node_parent_and_child_2x.png")
						background-position: -15px -3px
						background-repeat: 	no-repeat
						background-size: 48px 29px
						// word-wrap: break-word;
						
						&:last-of-type
							background-image: url("../images/class_node_subclass_last_child_2x.png")

						&.depth1
							padding-left: 12px
						&.depth2
							padding-left: 26px
							background-position: -1px -3px;
						&.depth3
							padding-left: 40px
							background-position: 13px -3px;
						&.depth4
							padding-left: 54px
							background-position: 27px -3px;
						&.depth5
							padding-left: 68px
							background-position: 41px -3px;
							

#container
	
	// reference lists within namespace, class, and group template pages
	.reference-lists
		
		word-wrap: break-word;
		
		section 
			
			> ul > li
				
				height: 100%
				width: 100%
				padding: 10px 10px
				transform: translateZ(0)
				
				&:nth-child(odd)
					background: #f8f8f8	
					
					&.expandable:hover
						animation: fade-odd 1.5s
					
				&.expandable
					transition: background 200ms;
					cursor: pointer
					
					&:hover
						animation: fade-even 1.5s				
						
					
		.definitionCol
			padding-right: 0
			padding-left: 0
				
		p:last
			margin-bottom: 0
		
		.row
			// padding-left: 18px
			// margin: 5px 0
			
			// .definition
				// margin: 5px 0
			
			.description
				// box-sizing: border-box
				// padding-top: 5px
				color: #7c827f
			
			p			
				&:first-child
					margin-top: 5px
				
			button.expand
				top: 14px
				left: 9px
				
	#show-hide
		
		text-align: right
				
	.returnCol
		text-align: right
		
	
	ul.master-class-list
		column-count: 4
		column-gap: 50px
		

#container .reference-content
		
	.header
		margin: 0 0 20px 0

		h1
			// color: $cinder-orange
			// text-align: center
			font-weight: 700
			text-transform: uppercase
			margin: 8px 0 0 0
			display: inline-block
			vertical-align: middle
		
		hr
			margin: 10px 0
		
	.header-icon
		// margin: 0 auto
		width: 100px
		height: 80px
		// text-align: center
		display: inline-block
		vertical-align: middle

	// reference header icons
	.header-icon {overflow:hidden; background-repeat: no-repeat;background-image:url('../images/header_icons.png');}

	.header_2dgraphics {width:200px; height:80px; background-position: -2px -2px}
	.header_application {width:200px; height:80px; background-position: -204px -2px}
	.header_audio {width:200px; height:80px; background-position: -406px -2px}
	.header_geometry {width:200px; height:80px; background-position: -608px -2px}
	.header_images {width:200px; height:80px; background-position: -810px -2px}
	.header_math {width:200px; height:80px; background-position: -1012px -2px}
	.header_platform {width:200px; height:80px; background-position: -1214px -2px}
	.header_system {width:200px; height:80px; background-position: -1416px -2px}
	.header_video {width:200px; height:80px; background-position: -1618px -2px}


.expandable
	
	position: relative
	overflow: hidden
		
	.content
		overflow: hidden
		transition: all 300ms cubic-bezier(0.165, 0.840, 0.440, 1.000)

	&.hidden	
		button.expand
			transform: rotate(0deg) translateZ(0)
		
		.content
			height: 0 !important
	
			
button.expand
		
	transform: rotate(90deg) translateZ(0)
	transition: all 200ms
	background-image: url("../images/expand_arrow.png");
	background-repeat: no-repeat
	background-size: 13px 13px
	background-color: inherit
	width: 13px
	height: 13px
	margin: 0
	padding: 0
	display: block
	top: 16px
	left: 7px
	position: absolute
	outline: none
	z-index: 100
	

button.interactive-guide
	background: none
	border: 1px solid #c64b24
	color: #c64b24
	text-transform: uppercase
	font-family: 'Open Sans', sans-serif
	font-size: .75em
	padding: .75em 1.5em
	margin: 0

	&:hover
		background: #c64b24
		color: #fff
	
	&:focus
		outline: none
	
	

#side-nav
	
	width: 300px
	left: auto
	padding: 40px 0 0 0
	// padding: 0
	
	h3
		color: $cinder-red
		font-weight: 700
		text-transform: uppercase
		
	section
		background: $light-gray
		margin-bottom: 20px
		
		> label
			background: $dark-gray-text
			color: white
			padding: 10px 15px
			font-size: 1em
			text-transform: uppercase
			font-weight: 700
		
		> ul
			padding: 10px 0 0 0
			max-height: 500px
			overflow-y: scroll
			
			ul
				margin: 5px -15px 0
				padding: 0
				
				li:last-child
					padding-bottom: 8px

		
			li
				// padding: 0 15px
				line-height: 1.3em
				padding: 4px 15px 4px 15px + 19px
				// margin: 7px 0
				
				
				
	span.active a
		color: $dark-gray-text
				
				
	ul.depth-0
		background: $gray-depth-3
	
	ul.depth-1
		background: $gray-depth-2
	
	ul.depth-2
		background: $gray-depth-1
		
	ul.depth-3
		background: white


	li.list-parent
		padding-left: 15px
		padding-bottom: 0;
			
		&:before
			content: ''
			display: inline-block
			background-image: url("../images/expand_arrow.png");
			background-repeat: no-repeat
			background-size: 13px 13px
			background-position: 0 0
			width: 13px
			height: 13px
			margin: 1px 5px 0 0
			transform: rotate(90deg) translateZ(0)
			transform-origin: 50% 50%;
		
	
	
	/*input[type="checkbox"] + label
		margin-left: -18px*/
		
	input[type="checkbox"] + label, input[type="radio"] + label
		margin-left: 0
		
	
	.css-treeview
		
		// font-size: 0.8em
		
		label
			color: #fff
			font-size: inherit
			width: 100%
		
		li
			// margin-left: 18px
			// margin-top: 5px;
			// margin-bottom: 5px;
			
			&.list-parent::before
				content: none
			
			a
				color: $cinder-red
				
			&.active			
				background-color: $cinder-red
				>label a, >a
					color: white
			

	.css-treeview label::before
		background-image: url("../images/expand_arrow.png");
		background-repeat: no-repeat
		background-size: 13px 13px
		background-position: 0 0
		width: 13px
		height: 13px
		margin: 1px 5px 0 0
		
	.css-treeview input:checked + label::before
		
		transform: rotate(90deg) translateZ(0)
		transform-origin: 50% 50%;
		
	.css-treeview label
		background-image: none
		height: 20px
		line-height: 20px	


.wrapper
	min-height: 100%
	position: relative

	.inner-wrap
		padding-bottom: 60px

#main-content
	position: relative;
	z-index: 0
	
	ul.rows 
		padding: 0
		text-indent: 0
		
	li.row, .side li
		list-style: none
		margin: 0
		
		&:before
			content: none
	
	#side-nav li
		list-style: none


footer
	color: $light-gray-text
	text-align: center;
	padding: 20px	
	background-color: $background-gray
	position: absolute
	bottom: 0
	width: 100%
	height: 60px
	text-transform: uppercase


/* NAVBAR STYLING */
$navbar-height = 100px
$border-height = 3px

#main-nav
	background: transparent
	height: $navbar-height
	font-size: 1.1rem			

	.columns
		height: 100%

	.cinder-logo-container
		padding-left: 0

	.nav-section
		height: 100%
		
		> ul
			position: relative
			list-style: none
			font-weight: bold
			display: inline-block
			
			> li
				height: 100%
				position: relative
				display: inline-block
				
				margin-right: 20px
				margin-left: 0
				background: none
				border-bottom: solid 3px transparent
				
				&.active
					border-bottom: solid 3px $cinder-red
					a
						color: $cinder-red

				a
					display: table-cell
					color: white
					text-decoration: none
					background: none
					padding: 0 0 $nav-bottom-padding - $border-height 0
					vertical-align: bottom 
					box-sizing: border-box
					height: $navbar-height - $border-height
					line-height: 1em
					font-weight: 400

					&:hover
						color: $cinder-red
					
				&:first-of-type a
					padding-left: 0;

	.title-area .name img
		width: 220px


/* SEARCH RESULTS STYLING */
#nav_search
	position: relative
	height: 100%
	
	& > #search
		position: absolute
		top: 0;
		bottom: 0;
		right: 0;
		margin: auto;
		height: 30px;
		width: 400px;

		& > input
			baseFontStyle()
			display: inline-block;
			position: absolute;
			margin-bottom: 0;
			width: 100%;
			font-size: 12px;
			height: 30px;
			border-radius: 5px;

		& > button
			position: absolute;
			right: 0;
			padding-top: 0;
			padding-bottom: 0;
			margin-bottom: 0;
			height: 30px;
			baseFontStyle()
			font-size: 10px
			text-transform: uppercase;
			outline: 0;
			background: $cinder-orange
			border-top-right-radius: 5px
			border-bottom-right-radius: 5px
	
			&:before
				content: "\2666";
				position: absolute;
				top: 0;
				bottom: 0;
				left: 0;
				font-size: 30px;
				transform: rotate(90deg);
				color: $cinder-orange

		#search-results
			background-color: white;
			position: absolute;
			right: 0;
			z-index: 99999;
			display: block;
			max-height: 80vh;
			overflow-y: scroll;
			overflow-x: hidden;
			top: 30px;
			border-radius: 10px;
			width: 400px;
			// border: 1px $light-gray solid

			ul
				margin-left: 0;

				li
					height: auto;
					padding: 10px 0 10px 10px;
					margin-right: 0;
					font-size: 12px;
					background: transparent;
					width: 100%;

					&:hover,
					&:hover a
						background: #c64b24;
						color: white;

					a
						padding: 0;
						color: #c64b24;
						background: transparent;
						font-size: 12px;

						&:before
							content: "\00bb";

			#search-results-view-all
				display: inline-block;
				width: 100%;
				background: #949494;
				padding: 10px 0;
				margin: 0 auto;
				text-align: center;
				font-size: 12px;
				font-weight: 700;

				a
					color: white;

					&:hover
						color: #c64b24;

// Magellan override
[data-magellan-expedition], [data-magellan-expedition-clone]
	min-width: inherit
